{"version":3,"file":"js/auth-login.555ed0a7.js","mappings":"q3EAsGEA,EAAAA,EAAAA,GAAQ,CAAEC,MAAO,gBAOjB,IAAMC,GAAQC,EAAAA,EAAAA,KACRC,GAASC,EAAAA,EAAAA,MAkCTC,IAjCQC,EAAAA,EAAAA,IAAI,KACDA,EAAAA,EAAAA,IAAI,KACNA,EAAAA,EAAAA,IAAI,IA+BM,WACzB,IAAMC,EAAW,IAAIC,EAAAA,IACrBC,EAAAA,EAAAA,KAAgBC,EAAAA,EAAAA,MAAWH,GAC1BI,MAAK,SAACC,GAAW,uBAaIC,IAbJ,sFAaX,+GACMC,EAAAA,EAAAA,KAAOC,EAAAA,EAAAA,IAAIC,EAAAA,GAAI,WAAYf,EAAMgB,KAAKC,QAAS,CACtDC,IAAclB,EAAMgB,KAAKC,OACzBE,SAAcnB,EAAMgB,KAAKI,YACzBC,YAAcrB,EAAMgB,KAAKM,eACzBC,MAAcvB,EAAMgB,KAAKQ,SACzBC,KAAcC,EAAAA,GAAAA,QANb,2CAbW,wBAGbxB,EAAOyB,KAAK,CACHC,KAAM,IACLC,KAAM,SACNC,OAAQ,CAAEZ,IAAG,WAAET,EAAAA,EAAAA,MAAUsB,mBAAZ,aAAE,EAAuBb,OAGjDlB,EAAMgB,KAAKM,eAAX,WAA2Bb,EAAAA,EAAAA,MAAUsB,mBAArC,aAA2B,EAAuBV,YAClDrB,EAAMgB,KAAKI,YAAX,WAAwBX,EAAAA,EAAAA,MAAUsB,mBAAlC,aAAwB,EAAuBC,SAC/ChC,EAAMgB,KAAKC,OAAX,WAAmBR,EAAAA,EAAAA,MAAUsB,mBAA7B,aAAmB,EAAuBb,IACzClB,EAAMgB,KAAKQ,SAAX,WAAqBf,EAAAA,EAAAA,MAAUsB,mBAA/B,aAAqB,EAAuBR,MAUjDX,OAvBA,UA2BO,SAACqB,GACJ,OAAO,U,mmBC3KPC,EAAc,EAEpB","sources":["webpack://cork-vue3/./src/views/auth/login.vue","webpack://cork-vue3/./src/views/auth/login.vue?e798"],"sourcesContent":["<template>\n    <div class=\"form full-form auth-cover\" >\n        <div class=\"form-container\">\n            <div class=\"form-form\" style=\"  margin-top: 50px;\n                                            margin-left: 300px; \n                                            position: fixed;                                            \n                                             \">\n                <div class=\"form-form-wrap\" style=\"\" >\n                    <div class=\"form-content\" >\n                            <h1 style=\"display: flex; justify-content: center;\">\n                                 <router-link to=\"https://novamaxxempreendimentos.com.br\"><span class=\"brand-name\">   NovaMaxx</span></router-link>\n                            </h1>\n                            \n                            \n                            <form class=\"text-start\">\n                                <div class=\"form\">\n                                    <div id=\"username-field\" class=\"field-wrapper input\">\n                                        <svg\n                                            xmlns=\"https://novamaxxempreendimentos.com.br/wp-content/uploads/2022/10/Ativo-3@4x.png\"\n                                            width=\"24\"\n                                            height=\"24\"\n                                            viewBox=\"0 0 24 24\"\n                                            fill=\"none\"\n                                            stroke=\"currentColor\"\n                                            stroke-width=\"2\"\n                                            stroke-linecap=\"round\"\n                                            stroke-linejoin=\"round\"\n                                            class=\"feather feather-user\"\n                                        >\n                                            <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path>\n                                            <circle cx=\"12\" cy=\"7\" r=\"4\"></circle>\n                                        </svg>\n                                        <input type=\"text\" class=\"form-control\" placeholder=\"Username\" />\n                                    </div>\n\n                                    <div id=\"password-field\" class=\"field-wrapper input mb-2\">\n                                        <svg\n                                            xmlns=\"https://novamaxxempreendimentos.com.br/wp-content/uploads/2022/10/Ativo-3@4x.png\"\n                                            width=\"24\"\n                                            height=\"24\"\n                                            viewBox=\"0 0 24 24\"\n                                            fill=\"none\"\n                                            stroke=\"currentColor\"\n                                            stroke-width=\"2\"\n                                            stroke-linecap=\"round\"\n                                            stroke-linejoin=\"round\"\n                                            class=\"feather feather-lock\"\n                                        >\n                                            <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\n                                            <path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path>\n                                        </svg>\n                                        <input type=\"password\" class=\"form-control\" placeholder=\"Password\" />\n                                    </div>\n                                    <div class=\"d-sm-flex justify-content-between\">\n                                        <div class=\"field-wrapper toggle-pass d-flex align-items-center\">\n                                            <p class=\"d-inline-block\">Show Password</p>\n                                            <label class=\"switch s-primary mx-2\">\n                                                <input type=\"checkbox\" class=\"custom-control-input\" checked=\"\" />\n                                                <span class=\"slider round\"></span>\n                                            </label>\n                                        </div>\n                                        <div class=\"field-wrapper\">\n                                            <router-link to=\"/\"><span class=\"brand-name\">   <button type=\"submit\" class=\"btn btn-primary\">Log In</button></span></router-link>\n\n                                        </div>\n                                    </div>\n\n                                    <div   style=\"display: inline-flex;\n                                                  padding: 10px;\n                                                  background-color: dodgerblue;                                                  \n                                                  border-radius: 10px;\n                                                  margin-top: 20px;\n                                                  margin-left: 60px;\n                                            \" \n                                           @click=\"signInWithGoogle\" >\n                                        <div class=\"google-icon-wrapper\">\n                                        <img class=\"google-icon\" style=\"padding: 5px; background-color: white; \"\n                                            src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"/>\n                                        </div>\n                                        <span style=\"color: white; padding: 5px;\">\n                                            Sign in with google\n                                        </span>\n                                    \n                                    </div>\n                                \n                                    \n \n                                </div>\n                            </form>\n \n                        </div>\n                </div>\n            </div>\n       \n        </div>\n    </div>\n</template>\n\n<script setup>\n  import '@/assets/sass/authentication/auth.scss';\n\n  import { useMeta } from '@/composables/use-meta';\n  useMeta({ title: 'Login Cover' });\n  import { signInWithEmailAndPassword, getAuth,GoogleAuthProvider,signInWithPopup } from \"firebase/auth\";\n  import { collection, Timestamp,  addDoc, where, doc, setDoc, deleteDoc, updateDoc, query, getDocs} from  'firebase/firestore'\n  import {db} from'@/firebase/firebase'\n  import { ref } from \"vue\"; \n  import { useRouter } from \"vue-router\";\n  import { useUserStore } from \"../../store/user\"; \n  const store = useUserStore();\n  const router = useRouter()\n  const email = ref(\"\"); \n  const password = ref(\"\");\n  const errMsg = ref(\"\");\n \n  const login = () => {\n      signInWithEmailAndPassword(getAuth(), email.value, password.value)\n        .then((data) => {\n          console.log(\"Sucess signed in\")\n          console.log(getAuth().currentUser)\n          router.push(\"/todos\")\n          store.user.email=(getAuth().currentUser?.email)    \n          store.user.photoUrlOri=(getAuth().currentUser)  \n\n        })\n        .catch((error) => {\n          console.log(error.code);\n          switch(error.code) {\n              case \"auth/invalid-email\":\n                errMsg.value =\"invalid email\";\n                break;\n              case \"auth/user-not-found\":\n                errMsg.value = \"User not Found\";\n                break;\n              case \"auth/wrong-password\":\n                errMsg.value = \"Incorrect Password\";\n                break;\n              default:\n                errMsg.value = \"Email or Password was Incorrect\";\n                break;\n          }\n          alert(error.message);\n        })        \n    }\n  const signInWithGoogle = () => {\n  const provider = new GoogleAuthProvider();  \n  signInWithPopup(getAuth(), provider)\n  .then((result) => {\n  //    console.log(result.user);\n \n       router.push({ \n                path: '/',\n                 name: 'Vendas',\n                 params: { uid: getAuth().currentUser?.uid   }\n            });\n       \n      store.user.displayNameOri=(getAuth().currentUser?.displayName)\n      store.user.photoUrlOri=(getAuth().currentUser?.photoURL)\n      store.user.uidOri=(getAuth().currentUser?.uid)\n       store.user.emailOri=(getAuth().currentUser?.email)\n         async function novoUser() { \n         await setDoc(doc(db, \"USUARIOS\", store.user.uidOri), {\n        uid:          store.user.uidOri,  \n        photoUrl:     store.user.photoUrlOri,\n        displayName:  store.user.displayNameOri,\n        email:        store.user.emailOri,\n        data:         Timestamp.now() \n    })\n   }\n  novoUser()\n       \n    } \n  )  \n  .catch((error) => {\n      return null\n  }) \n  \n  }\n  \n</script>\n","import script from \"./login.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./login.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useMeta","title","store","useUserStore","router","useRouter","signInWithGoogle","ref","provider","GoogleAuthProvider","signInWithPopup","getAuth","then","result","novoUser","setDoc","doc","db","user","uidOri","uid","photoUrl","photoUrlOri","displayName","displayNameOri","email","emailOri","data","Timestamp","push","path","name","params","currentUser","photoURL","error","__exports__"],"sourceRoot":""}